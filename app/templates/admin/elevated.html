{% extends "base.html" %}
{% block body %}
<h5 class="mb-3">Admin â€” Elevated User Actions</h5>
<p class="text-muted small">Only Systems Administrators and the App Developer can access. Only the App Developer can grant or revoke Systems Administrator.</p>

<div class="table-responsive">
  <table class="table table-sm table-striped align-middle">
    <thead>
      <tr><th>Username</th><th>Name</th><th>Administrator</th><th>Systems Administrator</th><th class="text-end">Save</th></tr>
    </thead>
    <tbody>
      {% for u in rows %}
      <tr>
        <form method="post">
          <input type="hidden" name="uid" value="{{ u.id }}">
          <td>{{ u.username }}</td>
          <td>{{ u.first_name }} {{ u.last_name }}</td>
          <td><input type="checkbox" name="is_admin" {{ 'checked' if u.is_admin else '' }}></td>
          <td>
            {% if cu.is_system %}
              <input type="checkbox" name="is_sysadmin" {{ 'checked' if u.is_sysadmin else '' }}>
            {% else %}
              <span class="text-muted">{{ 'Yes' if u.is_sysadmin else 'No' }}</span>
            {% endif %}
          </td>
          <td class="text-end"><button class="btn btn-sm btn-primary">Save</button></td>
        </form>
      </tr>
      {% endfor %}
      {% if not rows %}<tr><td colspan="5" class="text-center text-muted py-4">No users.</td></tr>{% endif %}
    </tbody>
  </table>
</div>
{% endblock %}
