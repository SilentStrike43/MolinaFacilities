{% extends "base.html" %}
{% block body %}
<h5 class="mb-3">Send — Tracking</h5>

<form method="post" class="border rounded p-3 mb-3">
  <label class="form-label">Tracking Number</label>
  <div class="input-group">
    <input class="form-control" name="TrackingNumber" placeholder="1Z..., 12 digits, etc." required>
    <button class="btn btn-primary">Search</button>
  </div>
  <div class="form-text">We’ll guess the carrier and link you to their site.</div>
</form>

{% if error %}
  <div class="alert alert-danger py-2">{{ error }}</div>
{% endif %}

{% if result %}
  <div class="card">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <div class="fw-semibold mb-1">Carrier: {{ carrier or 'Unknown' }}</div>
          <div class="text-muted">Result: {{ result|tojson(indent=2) }}</div>
        </div>
        {% if external_url %}
          <a class="btn btn-outline-primary" href="{{ external_url }}" target="_blank" rel="noopener">
            Open Carrier Site
          </a>
        {% endif %}
      </div>
    </div>
  </div>
{% endif %}
{% endblock %}
